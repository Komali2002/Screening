{"ast":null,"code":"import _objectSpread from\"D:\\\\MERN-APP\\\\firstapp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"D:\\\\MERN-APP\\\\firstapp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React from'react';import{useForm}from'react-hook-form';import{useNavigate}from'react-router-dom';import{FaSignInAlt}from'react-icons/fa';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var _errors$username,_errors$username2,_errors$username3,_errors$password,_errors$email,_errors$city;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),img=_useState2[0],setImg=_useState2[1];//on image select\nvar onImageSelect=function onImageSelect(event){setImg(event.target.files[0]);// setFile(event.target.files[0])\n//console.log(event.target.files[0]);\n//  console.log(event);\n};var navigate=useNavigate();//form submission\nvar onFormSubmit=function onFormSubmit(userObj){//http post req\nvar formData=new FormData();//append values to it\nformData.append(\"userObj\",JSON.stringify(userObj));formData.append(\"photo\",img);//http post req\naxios.post(\"http://localhost:4000/user-api/create-user\",formData).then(function(response){alert(response.data.message);//if user created\nif(response.data.message===\"New User created\"){//navigate to login\nnavigate(\"/login\");}}).catch(function(error){console.log(error);alert(\"Something went wrong in creating user\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"display-1  text-center\",children:\"Sign up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-11 col-sm-8 col-md-6 mx-auto mt-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onFormSubmit),className:\"w-75 mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"un\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"un\",className:\"form-control\"},register(\"username\",{required:true,minLength:4,maxLength:6}))),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"* Username required\"}),((_errors$username2=errors.username)===null||_errors$username2===void 0?void 0:_errors$username2.type)==='minLength'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"* Min length should be 4\"}),((_errors$username3=errors.username)===null||_errors$username3===void 0?void 0:_errors$username3.type)==='maxLength'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"* Max length should be 6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"un\",children:\"password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",id:\"password\",className:\"form-control\"},register(\"password\",{required:true,minLength:4,maxLength:6}))),((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"* password is  required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\",id:\"email\",className:\"form-control\"},register(\"email\",{required:true}))),((_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"* Email required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"city\",className:\"form-control\"},register(\"city\",{required:true}))),((_errors$city=errors.city)===null||_errors$city===void 0?void 0:_errors$city.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"*City is required\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-success w-100 mb-4\",children:[\"Signup\",/*#__PURE__*/_jsx(FaSignInAlt,{})]})]})})]});}export default Signup;","map":{"version":3,"sources":["D:/MERN-APP/firstapp/src/components/Signup.js"],"names":["React","useForm","useNavigate","FaSignInAlt","axios","Signup","register","handleSubmit","errors","formState","useState","img","setImg","onImageSelect","event","target","files","navigate","onFormSubmit","userObj","formData","FormData","append","JSON","stringify","post","then","response","alert","data","message","catch","error","console","log","required","minLength","maxLength","username","type","password","email","city"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {useForm} from 'react-hook-form'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {FaSignInAlt} from 'react-icons/fa'\r\nimport axios from 'axios'\r\nfunction Signup()\r\n{\r\n    const {register,handleSubmit,formState:{errors}}=useForm()\r\n    let [img, setImg] = useState(null);\r\n\r\n  //on image select\r\n  const onImageSelect = (event) => {\r\n    \r\n    setImg(event.target.files[0]);\r\n    // setFile(event.target.files[0])\r\n    //console.log(event.target.files[0]);\r\n  //  console.log(event);\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n    //form submission\r\n    const onFormSubmit = (userObj) => {\r\n        //http post req\r\n        let formData = new FormData();\r\n    //append values to it\r\n    formData.append(\"userObj\", JSON.stringify(userObj));\r\n    formData.append(\"photo\", img);\r\n    //http post req\r\n    axios\r\n      .post(\"http://localhost:4000/user-api/create-user\", formData)\r\n      .then((response) => {\r\n        alert(response.data.message);\r\n        //if user created\r\n        if (response.data.message === \"New User created\") {\r\n          //navigate to login\r\n          navigate(\"/login\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        alert(\"Something went wrong in creating user\");\r\n      });\r\n      };\r\n    return(\r\n        <div className='row mt-3' >\r\n            <p className=\"display-1  text-center\">Sign up</p>\r\n            <div className=\"col-11 col-sm-8 col-md-6 mx-auto mt-3\">\r\n            <form onSubmit={handleSubmit(onFormSubmit)} className='w-75 mx-auto'>\r\n                {/*username*/}\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor='un'>Username</label>\r\n                    <input type=\"text\" id=\"un\" className=\"form-control\" {...register(\"username\", { required: true, minLength: 4 ,maxLength:6})} />\r\n                        {/* validation error msg for username */}\r\n                        {errors.username?.type === 'required' && <p className='text-danger'>* Username required</p>}\r\n                        {errors.username?.type === 'minLength' && <p className='text-danger'>* Min length should be 4</p>}\r\n                        {errors.username?.type === 'maxLength' && <p className='text-danger'>* Max length should be 6</p>}\r\n\r\n                </div>\r\n                {/*password*/}\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor='un'>password</label>\r\n                    <input type=\"password\" id=\"password\" className=\"form-control\" {...register(\"password\", { required: true, minLength: 4 ,maxLength:6})} />\r\n                        {/* validation error msg for password */}\r\n                        {errors.password?.type === 'required' && <p className='text-danger'>* password is  required</p>}\r\n                       \r\n\r\n                </div>\r\n                {/*email*/}\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor='email'>Email</label>\r\n                    <input type=\"email\"  id=\"email\" className=\"form-control\" {...register(\"email\",{required: true})} />\r\n                    {/* validation error msg for email */}\r\n                    {errors.email?.type === 'required' && <p className='text-danger'>* Email required</p>}\r\n                    \r\n                </div>\r\n                {/*city*/}\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor='city'>City</label>\r\n                    <input type=\"text\"  id=\"city\" className=\"form-control\" {...register(\"city\",{required: true})} />\r\n                    {/* validation error msg for city */}\r\n                    {errors.city?.type === 'required' && <p className='text-danger'>*City is required</p>}\r\n                    \r\n                </div>\r\n                \r\n                <button type=\"submit\" className=\"btn btn-success w-100 mb-4\">Signup<FaSignInAlt/></button>\r\n\r\n\r\n            </form>\r\n            </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}